import matplotlib.pyplot as plt
import numpy as np


# TopiOCQA / BM25 / Recall@100
original = [0.6439024390243903, 0.07804878048780488, 0.02926829268292683, 0.014634146341463415, 0.024390243902439025, 0.04390243902439024, 0.03902439024390244, 0.02926829268292683, 0.03414634146341464, 0.06341463414634146, 0.040268456375838924, 0.07017543859649122, 0.06741573033707865, 0.03389830508474576, 0.046511627906976744, 0.0]
human_rewritten = [0.6439024390243903, 0.5902439024390244, 0.6292682926829268, 0.5317073170731708, 0.5219512195121951, 0.4878048780487805, 0.4195121951219512, 0.4585365853658537, 0.45365853658536587, 0.3853658536585366, 0.40268456375838924, 0.4298245614035088, 0.43820224719101125, 0.3389830508474576, 0.3953488372093023, 0.3]
all_history = [0.6439024390243903, 0.5414634146341464, 0.34146341463414637, 0.24878048780487805, 0.15609756097560976, 0.11707317073170732, 0.06829268292682927, 0.05853658536585366, 0.04878048780487805, 0.01951219512195122, 0.006711409395973154, 0.008771929824561403, 0.011235955056179775, 0.01694915254237288, 0.0, 0.0]
same_topic = [0.6439024390243903, 0.4975609756097561, 0.33658536585365856, 0.21951219512195122, 0.1951219512195122, 0.18048780487804877, 0.14146341463414633, 0.13170731707317074, 0.16585365853658537, 0.14146341463414633, 0.087248322147651, 0.11403508771929824, 0.0898876404494382, 0.15254237288135594, 0.13953488372093023, 0.2]

# TopiOCQA / BM25 / NDCG@3
original = [0.09419169529616866, 0.015272828066202233, 0.0, 0.004878048780487805, 0.004878048780487805, 0.015272828066202233, 0.0024390243902439024, 0.0030777061149827195, 0.011033461010453244, 0.004878048780487805, 0.017657246668264816, 0.027464296083960157, 0.0056179775280898875, 0.0, 0.0, 0.0]
human_rewritten = [0.09419169529616866, 0.12334428547038413, 0.10510945379791055, 0.11254222947735362, 0.10214745019163919, 0.13310038303135974, 0.08071920989547152, 0.12398296719512295, 0.10383209034843291, 0.08495857695122051, 0.10754173835091162, 0.08792735977443711, 0.09871436540931176, 0.0320811739104131, 0.06118441287375483, 0.0]
all_history = [0.09419169529616866, 0.17467950017421746, 0.14105613792683028, 0.08188087083623778, 0.04953487203832824, 0.04941916952961687, 0.01951219512195122, 0.013472485400697148, 0.007317073170731708, 0.004878048780487805, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
same_topic = [0.09419169529616866, 0.168524087944252, 0.14041745620209145, 0.09227565012195221, 0.07212477327526218, 0.0720090707665508, 0.05853658536585366, 0.05005785125435568, 0.0622529732055752, 0.05493590003484349, 0.06040268456375839, 0.054928592167920315, 0.018325053410915254, 0.03389830508474576, 0.046511627906976744, 0.1]


if __name__ == "__main__":
    x = np.arange(1, 17)
    plt.plot(x, original, label="Original")
    plt.plot(x, human_rewritten, label="Human Rewritten")
    plt.plot(x, all_history, label="All History")
    plt.plot(x, same_topic, label="Same Topic")
    
    plt.title("Dataset: TopiOCQA")
    plt.xlabel("Turns")
    
    # plt.ylim(0, 0.9)
    # plt.ylabel("Recall@100")
    plt.ylim(0, 0.2)
    plt.ylabel("NDCG@3")
    
    
    plt.legend()
    plt.show()